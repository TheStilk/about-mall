### Базовое управление репозиториями

Git - это мощный инструмент для **отслеживания изменений** и **совместной работы** над проектами. Можешь считайть это как машина времени для вашего проекта, где вы можете сохранять версии, возвращаться назад и работать параллельно с другими людьми, не мешая друг другу.

---

### **1. Получаем наш проект (клонируем репозиторий)**

Представьте, что кто-то уже начал крутой проект и вы хотите получить его копию, чтобы работать над ним. Это называется **клонирование репозитория**.

- **Команда:**
    ```bash
    git clone https://github.com/TheStilk/about-mall.git
    ```
- **Что происходит:** Git скачивает весь проект со всей его историей изменений на ваш компьютер. Вместо `https://github.com/TheStilk/about-mall.git` вы будете использовать ссылку на нужный вам проект.

---

### **2. Заходим в папку проекта**

После того как проект скачался, вам нужно "зайти" в его папку в консоли, чтобы начать работу.

- **Команда:**
    ```bash
    cd about-mall
    ```
- **Что происходит:** Вы переходите в директорию вашего нового проекта. Теперь все последующие Git-команды будут выполняться внутри этого проекта.

---

### **3. Создаём свою "рабочую зону" (новую ветку)**

В Git вы редко работаете прямо в основном проекте (`main` или `master`). Обычно вы создаёте свою "ветку" – это как отдельная копия проекта, где вы можете безопасно экспериментировать, добавлять новые функции или исправлять ошибки, не затрагивая основной код.

- **Команда:**
    ```bash
    git checkout -b my-new-feature
    ```
- **Что происходит:**
    - `git checkout`: Переключает вас на другую ветку.
    - `-b`: Создаёт новую ветку, если её нет.        
    - `my-new-feature`: Это **имя вашей новой ветки**. Дайте ей осмысленное имя, например, `add-user-login` или `fix-bug-123`.


---

### **4. Готовим изменения к сохранению (добавляем в индекс)**

Вы внесли изменения в файлы: написали код, добавили картинки, исправили текст. Git нужно сказать, какие именно изменения вы хотите сохранить в следующем "слепке" проекта. Эта промежуточная область называется **индексом** (или "staging area").

- **Добавить все изменённые файлы в текущей директории и поддиректориях:**
    ```bash
    git add .
    ```
- **Добавить конкретный файл:**
    ```bash
    git add path/to/my_file.md
    ```
- **Что происходит:** Git "запоминает" текущее состояние выбранных файлов. Они готовы к следующему "сохранению".
- **Полезная команда:** Чтобы посмотреть, какие файлы вы изменили и какие из них уже готовы к сохранению, используйте `git status`. Он покажет вам, что происходит в вашем проекте.

---

### **5. Сохраняем изменения (делаем коммит)**

Теперь, когда вы указали Git, какие изменения хотите сохранить, пора сделать "снимок" вашего проекта. Это называется **коммит**. Каждый коммит – это точка в истории вашего проекта с вашими изменениями.

- **Команда:**
    ```bash
    git commit -m "Добавил форму регистрации пользователя"
    ```
- **Что происходит:**
    - `git commit`: Сохраняет изменения, которые вы добавили в индекс.
    - `-m "Ваш комментарий"`: **Очень важный комментарий!** Он должен кратко и чётко описывать, что именно вы сделали в этом коммите. Представьте, что через год вы или другой разработчик посмотрите на этот коммит – комментарий должен быть понятен.

---

### **6. Отправляем изменения на GitHub (пушим)**

Вы сделали изменения на своём компьютере, сохранили их в коммитах. Теперь нужно отправить эти коммиты на удалённый сервер (например, GitHub), чтобы другие люди могли их увидеть и использовать.

- **Команда (для первой отправки новой ветки):**
    ```bash
    git push -u origin my-new-feature
    ```
- **Команда (для последующих отправок в ту же ветку):**
    ```bash
    git push
    ```
- **Что происходит:**
    - `git push`: Отправляет ваши локальные коммиты на удалённый репозиторий.
    - `-u origin my-new-feature`: (`-u` или `--set-upstream`) Эта часть говорит Git, что ваша локальная ветка `my-new-feature` теперь "связана" с веткой `my-new-feature` на удалённом сервере (`origin`). Вам нужно это сделать только при первой отправке новой ветки. В дальнейшем достаточно просто `git push`.
    - `origin`: Это стандартное имя для вашего основного удалённого репозитория (того, который вы склонировали).

---

### Работа с чужими изменениями: синхронизация и объединение (Fork & Upstream)

Часто вы будете работать над проектом, который изначально принадлежит кому-то другому (например, опенсорсный проект на GitHub). Вы делаете его **форк** (свою копию), вносите изменения, а потом хотите получить обновления из оригинального проекта (который называется **upstream-репозиторий**).

---

### **1. Добавляем "оригинальный" репозиторий (upstream)**

Вам нужно сказать Git, где находится оригинальный проект, чтобы вы могли получать оттуда обновления.

- **Команда (только один раз для каждого проекта):**
    ```bash
    git remote add upstream https://github.com/TheStilk/about-mall.git
    ```
- **Что происходит:** Вы создаёте "ярлык" под названием `upstream`, который указывает на оригинальный репозиторий.

---

### **2. Получаем обновления из "оригинала"**

Теперь, когда Git знает, где находится оригинал, вы можете скачать оттуда все последние изменения, но пока что они не будут применены к вашему коду.

- **Команда:**
    ```bash
    git fetch upstream
    ```
- **Что происходит:** Git скачивает все новые ветки и коммиты из `upstream` репозитория, но не объединяет их с вашими локальными ветками. Они остаются в отдельной "области" (`upstream/main`, `upstream/feature-branch` и т.д.).

---

### **3. Переключаемся на основную ветку (если не там)**

Прежде чем объединять изменения, убедитесь, что вы находитесь в той ветке, куда хотите эти изменения применить. Обычно это ваша основная ветка, например `main` или `master`.

- **Команда:**
    ```bash
    git checkout main
    ```
- **Что происходит:** Вы переходите в свою локальную ветку `main`.

---

### **4. Объединяем изменения из "оригинала" в свою ветку**

Теперь вы готовы применить скачанные изменения из `upstream` в свою локальную ветку.

- **Команда:**
    ```bash
    git merge upstream/main 
    # Или upstream/название-ветки, если хотите объединить конкретную ветку
    ```
- **Что происходит:** Git пытается объединить историю изменений из ветки `upstream/main` с вашей текущей веткой (`main`).
    - **Конфликты:** Иногда Git не может сам понять, как объединить изменения (например, если вы и `upstream` изменили одну и ту же строку в одном и том же файле). В этом случае возникнет **конфликт**. Git подскажет вам, какие файлы содержат конфликты, и вам нужно будет вручную их разрешить, выбрав, чьи изменения оставить. После разрешения конфликтов, нужно будет снова `git add` эти файлы и `git commit`.

---

### **5. Отправляем обновлённую основную ветку на GitHub**

После объединения изменений на вашем компьютере, не забудьте отправить их в свой форк на GitHub, чтобы он был актуальным.

- **Команда:**
    ```bash
    git push origin main
    ```
- **Что происходит:** Ваши локальные изменения, включая те, что были объединены из `upstream`, отправляются в ваш репозиторий `origin` на GitHub.

---

### Альтернативный вариант: Создать новую ветку на основе обновлений

Иногда вы не хотите сразу объединять изменения из `upstream` в свою основную ветку, а хотите создать новую ветку, которая будет основана на самых свежих изменениях из "оригинала". Это полезно, если вы планируете новую фичу, которая должна быть построена на последней версии проекта.

---

### **1. Создаём новую ветку на основе ветки upstream**

- **Команда:**
    ```bash
    git checkout -b new-feature-based-on-upstream upstream/main
    ```
- **Что происходит:** Вы создаёте новую ветку под названием `new-feature-based-on-upstream`. Важно, что эта ветка будет содержать все изменения из `upstream/main` **на момент выполнения команды**.

---

### **2. Отправляем новую ветку в ваш репозиторий на GitHub**

- **Команда:**
    ```bash
    git push -u origin new-feature-based-on-upstream
    ```
- **Что происходит:** Ваша новая ветка, созданная на основе `upstream`, отправляется в ваш форк на GitHub. Теперь вы можете работать в этой ветке, а затем при необходимости отправить изменения в `upstream` через Pull Request (запрос на слияние).

---

### Что ещё важно знать:

- **`git status`**: Всегда используйте эту команду! Она покажет вам текущее состояние вашего репозитория: какие файлы изменены, какие добавлены в индекс, в какой вы сейчас ветке. Это ваш лучший друг в Git.
- **`git log`**: Показывает историю коммитов. Очень полезно, чтобы понять, что происходило в проекте.
- **Отмена изменений:** Git очень гибкий. Можно отменить изменения в файле (`git restore <file>`), отменить коммит (`git revert <commit-hash>`) и многое другое. На первых порах не бойтесь экспериментировать, но будьте осторожны с командами, которые переписывают историю (`git reset --hard`).
- **Pull Request (PR) / Merge Request (MR):** Когда вы заканчиваете работу в своей ветке и хотите, чтобы ваши изменения попали в основной проект, вы создаёте Pull Request (на GitHub) или Merge Request (на GitLab/Bitbucket). Это запрос владельцу оригинального репозитория на объединение вашей ветки с его основной веткой. Другие разработчики могут посмотреть ваш код, оставить комментарии и одобрить его.

Надеюсь, это поможет вам сделать первые шаги в Git! Практика — ключ к освоению. Не бойтесь совершать ошибки, Git специально создан, чтобы их можно было легко исправлять.

Есть ли что-то ещё, что вы хотели бы узнать или что кажется непонятным?